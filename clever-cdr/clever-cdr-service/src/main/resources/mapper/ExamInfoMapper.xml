<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.vico.clever.cdr.service.dao.ExamInfoDao">
  <resultMap id="ExamReqInfoMap" type="com.vico.clever.cdr.service.model.ExamReqInfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
<!--     <id column="Guid" jdbcType="CHAR" property="guid" /> -->
    <result column="BodySign" jdbcType="VARCHAR" property="bodySign" />
    <result column="DateAndOrTimeServiceRequired" jdbcType="TIMESTAMP" property="reqDate" />
    <result column="EncounterIdentifier" jdbcType="VARCHAR" property="visitID" />
    <result column="Intent" jdbcType="VARCHAR" property="intent" />
    <result column="LatestDateServiceRequired" jdbcType="TIMESTAMP" property="latestDateServiceReq" />
    <result column="Memo" jdbcType="VARCHAR" property="memo" />
    <result column="OrderIdentifier" jdbcType="VARCHAR" property="orderNO" />
    <result column="PatientIdentifier_Id" jdbcType="VARCHAR" property="patientID" />
    <result column="PatientRequirements" jdbcType="VARCHAR" property="patientRequirement" />
    <result column="ReceiverDepartment_Id" jdbcType="VARCHAR" property="receiverDeptID" />
    <result column="ReceiverDepartment_Name" jdbcType="VARCHAR" property="receiverDeptName" />
    <result column="ReceiverProvider_Id" jdbcType="VARCHAR" property="receiverDoctorID" />
    <result column="ReceiverProvider_Name" jdbcType="VARCHAR" property="receiverDoctorName" />
    <result column="RequesterDepartment_Id" jdbcType="VARCHAR" property="reqDeptCode" />
    <result column="RequesterDepartment_Name" jdbcType="VARCHAR" property="reqDeptName" />
    <result column="RequesterProvieder_Id" jdbcType="VARCHAR" property="reqDoctorID" />
    <result column="RequesterProvieder_Name" jdbcType="VARCHAR" property="reqDoctorName" />
    <result column="RequestorIdentifier" jdbcType="VARCHAR" property="examReqID" />
    <result column="SupplementaryInformationExpected" jdbcType="VARCHAR" property="relevantTest" />
    <result column="Syndrom" jdbcType="VARCHAR" property="syndrom" />
    <result column="Urgency_Code" jdbcType="VARCHAR" property="urgencyCode" />
    <result column="Urgency_Name" jdbcType="VARCHAR" property="urgencyName" />
    <result column="ReceiverOrganization_Id" jdbcType="VARCHAR" property="receiverOrganizationCode" />
    <result column="ReceiverOrganization_Name" jdbcType="VARCHAR" property="receiverOrganizationName" />
    <result column="RequesterOrganization_Id" jdbcType="VARCHAR" property="reqHospitalID" />
    <result column="RequesterOrganization_Name" jdbcType="VARCHAR" property="reqHospitalName" />
  </resultMap>
  
  <resultMap id="ExamItemMap" type="com.vico.clever.cdr.service.model.ExamItem" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
<!--     <id column="Guid" property="guid" jdbcType="CHAR" /> -->
<!--     <result column="Inst_ImagingExaminationRequest$Guid" property="instImagingexaminationrequestGuid" jdbcType="VARCHAR" /> -->
    <result column="DescriptionOfExamination" property="itemName" jdbcType="VARCHAR" />
    <result column="ExamClass_Code" property="examClassCode" jdbcType="VARCHAR" />
    <result column="ExamClass_Name" property="examClass" jdbcType="VARCHAR" />
    <result column="ExamSubClass_Code" property="examSubClassCode" jdbcType="VARCHAR" />
    <result column="ExamSubClass_Name" property="examSubClass" jdbcType="VARCHAR" />
    <result column="ExaminationRequested" property="itemCode" jdbcType="VARCHAR" />
    <result column="Inst_ImagingExaminationRequest$RequestorIdentifier" property="examReqID" jdbcType="VARCHAR" />
    <result column="ItemNumber" property="itemNO" jdbcType="INTEGER" />
    <result column="ScheduleDatetime" property="scheduleDate" jdbcType="TIMESTAMP" />
    <result column="ScheduleDepartment_Code" property="scheduleDeptCode" jdbcType="VARCHAR" />
    <result column="ScheduleDepartment_Name" property="scheduleDeptName" jdbcType="VARCHAR" />
    <result column="ScheduleDoctor_Code" property="scheduleDoctorCode" jdbcType="VARCHAR" />
    <result column="ScheduleDoctor_Name" property="scheduleDoctorName" jdbcType="VARCHAR" />
  </resultMap>
  
  <resultMap id="ExamStatusMap" type="com.vico.clever.cdr.service.model.ExamStatus">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
<!--     <id column="Guid" jdbcType="CHAR" property="guid" /> -->
    <result column="ActionDatetime" jdbcType="TIMESTAMP" property="performDateTime" />
    <result column="Comment" jdbcType="VARCHAR" property="comment" />
    <result column="EncounterIdentifier" jdbcType="VARCHAR" property="visitID" />
    <result column="ExaminationName" jdbcType="VARCHAR" property="examItemName" />
    <result column="IsmTransition_CareflowStep_Code" jdbcType="VARCHAR" property="careflowStepCode" />
    <result column="IsmTransition_CareflowStep_Name" jdbcType="VARCHAR" property="careflowStepName" />
    <result column="IsmTransition_CurrentState_Code" jdbcType="VARCHAR" property="curStateCode" />
    <result column="IsmTransition_CurrentState_Name" jdbcType="VARCHAR" property="curStateName" />
    <result column="PatientIdentifier_Id" jdbcType="VARCHAR" property="patientID" />
    <result column="Performer_Code" jdbcType="VARCHAR" property="performDoctorCode" />
    <result column="Performer_Name" jdbcType="VARCHAR" property="performDoctorName" />
    <result column="RequesterOrderIdentifier" jdbcType="VARCHAR" property="examReqID" />
  </resultMap>
  
  <resultMap id="ExamDataInfoMap" type="com.vico.clever.cdr.service.model.ExamDataInfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
<!--     <id column="Guid" jdbcType="CHAR" property="guid" /> -->
    <result column="DicomSeriesIdentifier_Id" jdbcType="VARCHAR" property="dicomSeriesID" />
    <result column="DicomStudyIdentifier_Id" jdbcType="VARCHAR" property="dicomStudyID" />
    <result column="EncounterIdentifier" jdbcType="VARCHAR" property="visitID" />
    <result column="Images_ImageAbsolutePath" jdbcType="VARCHAR" property="imageAbsolutePath" />
    <result column="Images_ImageDatetime" jdbcType="TIMESTAMP" property="imageDateTime" />
    <result column="Images_ImageIdentifier_Id" jdbcType="VARCHAR" property="imageID" />
    <result column="Images_ImageRelativePath" jdbcType="VARCHAR" property="imageRelativePath" />
    <result column="Images_KeyImage" jdbcType="BIT" property="keyImage" />
    <result column="Images_Position" jdbcType="VARCHAR" property="imagePosition" />
    <result column="Images_View" jdbcType="VARCHAR" property="imageView" />
    <result column="OrderIdentifier" jdbcType="VARCHAR" property="orderID" />
    <result column="PatientIdentifier_Id" jdbcType="VARCHAR" property="patientID" />
    <result column="ReceiverOrderIdentifier_Id" jdbcType="VARCHAR" property="examID" />
    <result column="RequesterOrderIdentifier" jdbcType="VARCHAR" property="examReqID" />
    <result column="Images_Image_Uri" jdbcType="VARBINARY" property="imageUri" />
  </resultMap>
  
  <resultMap id="ExamReportInfoMap" type="com.vico.clever.cdr.service.model.ExamReportInfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
<!--     <id column="Guid" jdbcType="CHAR" property="guid" /> -->
    <result column="Conclusion" jdbcType="VARCHAR" property="conclusion" />
    <result column="DatetimeIssued" jdbcType="TIMESTAMP" property="reportDate" />
    <result column="EncounterIdentifier" jdbcType="VARCHAR" property="visitID" />
    <result column="ExamDescription" jdbcType="VARCHAR" property="description" />
    <result column="Findings" jdbcType="VARCHAR" property="findings" />
    <result column="Memo" jdbcType="VARCHAR" property="memo" />
    <result column="OrderIdentifier" jdbcType="VARCHAR" property="orderID" />
    <result column="PatientIdentifier_Id" jdbcType="VARCHAR" property="patentID" />
<!--     <result column="ReceiverOrderIdentifier" jdbcType="VARCHAR" property="receiverorderidentifier" /> -->
    <result column="ReceiverOrderIdentifier_Id" jdbcType="VARCHAR" property="examID" />
    <result column="ReportIdentifier_Id" jdbcType="VARCHAR" property="reportID" />
    <result column="RepresentationAbsolutePath" jdbcType="VARCHAR" property="reportAbsolutePath" />
    <result column="RepresentationRelativePath" jdbcType="VARCHAR" property="reportRelatviePath" />
    <result column="RequesterOrderIdentifier_Id" jdbcType="VARCHAR" property="examReqID" />
<!--     <result column="ResultGroup_ResultComment" jdbcType="VARCHAR" property="resultgroupResultcomment" /> -->
<!--     <result column="ResultGroup_ResultItem" jdbcType="VARCHAR" property="resultgroupResultitem" /> -->
<!--     <result column="ResultGroup_ResultValue" jdbcType="VARCHAR" property="resultgroupResultvalue" /> -->
    <result column="Representation_Uri" jdbcType="VARBINARY" property="representationUri" />
  </resultMap>
  
  <sql id="ExamReqInfoColumnList">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    Guid, BodySign, DateAndOrTimeServiceRequired, EncounterIdentifier, Intent, LatestDateServiceRequired, 
    Memo, OrderIdentifier, PatientIdentifier_Id, PatientRequirements, ReceiverDepartment_Id, 
    ReceiverDepartment_Name, ReceiverProvider_Id, ReceiverProvider_Name, RequesterDepartment_Id, 
    RequesterDepartment_Name, RequesterProvieder_Id, RequesterProvieder_Name, RequestorIdentifier, 
    SupplementaryInformationExpected, Syndrom, Urgency_Code, Urgency_Name, ReceiverOrganization_Id, 
    ReceiverOrganization_Name, RequesterOrganization_Id, RequesterOrganization_Name
  </sql>
  
  <sql id="ExamItemColumnList" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    Guid, DescriptionOfExamination, ExamClass_Code, 
    ExamClass_Name, ExamSubClass_Code, ExamSubClass_Name, ExaminationRequested, Inst_ImagingExaminationRequest$RequestorIdentifier, 
    ItemNumber, ScheduleDatetime, ScheduleDepartment_Code, ScheduleDepartment_Name, ScheduleDoctor_Code, 
    ScheduleDoctor_Name
  </sql>
  
  <sql id="ExamStatusColumnList">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    Guid, ActionDatetime, Comment, EncounterIdentifier, ExaminationName, IsmTransition_CareflowStep_Code, 
    IsmTransition_CareflowStep_Name, IsmTransition_CurrentState_Code, IsmTransition_CurrentState_Name, 
    PatientIdentifier_Id, Performer_Code, Performer_Name, RequesterOrderIdentifier
  </sql>
  
  <sql id="ExamDataColumnList">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    Guid, DicomSeriesIdentifier_Id, DicomStudyIdentifier_Id, EncounterIdentifier, Images_ImageAbsolutePath, 
    Images_ImageDatetime, Images_ImageIdentifier_Id, Images_ImageRelativePath, Images_KeyImage, 
    Images_Position, Images_View, OrderIdentifier, PatientIdentifier_Id, ReceiverOrderIdentifier_Id, 
    RequesterOrderIdentifier,Images_Image_Uri
  </sql>
  
  <sql id="ExamReportColumnList">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    Guid, Conclusion, DatetimeIssued, EncounterIdentifier, ExamDescription, Findings, 
    Memo, OrderIdentifier, PatientIdentifier_Id, ReceiverOrderIdentifier, ReceiverOrderIdentifier_Id, 
    ReportIdentifier_Id, RepresentationAbsolutePath, RepresentationRelativePath, RequesterOrderIdentifier_Id, 
    Representation_Uri
  </sql>
  
  <select id="selectExamReqInfo" parameterType="java.lang.String" resultMap="ExamReqInfoMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="ExamReqInfoColumnList" />
    from Inst_ImagingExaminationRequest
    where RequestorIdentifier = #{examReqID,jdbcType=VARCHAR}
  </select>
  <delete id="deleteExamReqInfo" parameterType="java.lang.String">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from Inst_ImagingExaminationRequest
    where RequestorIdentifier = #{examReqID,jdbcType=VARCHAR}
  </delete>
  <insert id="insertExamReqInfo" parameterType="com.vico.clever.cdr.service.model.ExamReqInfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into Inst_ImagingExaminationRequest (Guid, BodySign, DateAndOrTimeServiceRequired, 
      EncounterIdentifier, Intent, LatestDateServiceRequired, 
      Memo, OrderIdentifier, PatientIdentifier_Id, 
      PatientRequirements, ReceiverDepartment_Id, 
      ReceiverDepartment_Name, ReceiverProvider_Id, 
      ReceiverProvider_Name, RequesterDepartment_Id, 
      RequesterDepartment_Name, RequesterProvieder_Id, 
      RequesterProvieder_Name, RequestorIdentifier, 
      SupplementaryInformationExpected, Syndrom, 
      Urgency_Code, Urgency_Name, ReceiverOrganization_Id, 
      ReceiverOrganization_Name, RequesterOrganization_Id, 
      RequesterOrganization_Name)
    values (newid(), #{bodySign,jdbcType=VARCHAR}, #{reqDate,jdbcType=TIMESTAMP}, 
      #{visitID,jdbcType=VARCHAR}, #{intent,jdbcType=VARCHAR}, #{latestDateServiceReq,jdbcType=TIMESTAMP}, 
      #{memo,jdbcType=VARCHAR}, #{orderNO,jdbcType=VARCHAR}, #{patientID,jdbcType=VARCHAR}, 
      #{patientRequirement,jdbcType=VARCHAR}, #{receiverDeptID,jdbcType=VARCHAR}, 
      #{receiverDeptName,jdbcType=VARCHAR}, #{receiverDoctorID,jdbcType=VARCHAR}, 
      #{receiverDoctorName,jdbcType=VARCHAR}, #{reqDeptCode,jdbcType=VARCHAR}, 
      #{reqDeptName,jdbcType=VARCHAR}, #{reqDoctorID,jdbcType=VARCHAR}, 
      #{reqDoctorName,jdbcType=VARCHAR}, #{examReqID,jdbcType=VARCHAR}, 
      #{relevantTest,jdbcType=VARCHAR}, #{syndrom,jdbcType=VARCHAR}, 
      #{urgencyCode,jdbcType=VARCHAR}, #{urgencyName,jdbcType=VARCHAR}, #{receiverOrganizationCode,jdbcType=VARCHAR}, 
      #{receiverOrganizationName,jdbcType=VARCHAR}, #{reqHospitalID,jdbcType=VARCHAR}, 
      #{reqHospitalName,jdbcType=VARCHAR})
  </insert>
  <update id="updateExamReqInfo" parameterType="com.vico.clever.cdr.service.model.ExamReqInfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update Inst_ImagingExaminationRequest
    set BodySign = #{bodySign,jdbcType=VARCHAR},
      DateAndOrTimeServiceRequired = #{reqDate,jdbcType=TIMESTAMP},
      EncounterIdentifier = #{visitID,jdbcType=VARCHAR},
      Intent = #{intent,jdbcType=VARCHAR},
      LatestDateServiceRequired = #{latestDateServiceReq,jdbcType=TIMESTAMP},
      Memo = #{memo,jdbcType=VARCHAR},
      OrderIdentifier = #{orderNO,jdbcType=VARCHAR},
      PatientIdentifier_Id = #{patientID,jdbcType=VARCHAR},
      PatientRequirements = #{patientRequirement,jdbcType=VARCHAR},
      ReceiverDepartment_Id = #{receiverDeptID,jdbcType=VARCHAR},
      ReceiverDepartment_Name = #{receiverDeptName,jdbcType=VARCHAR},
      ReceiverProvider_Id = #{receiverDoctorID,jdbcType=VARCHAR},
      ReceiverProvider_Name = #{receiverDoctorName,jdbcType=VARCHAR},
      RequesterDepartment_Id = #{reqDeptCode,jdbcType=VARCHAR},
      RequesterDepartment_Name = #{reqDeptName,jdbcType=VARCHAR},
      RequesterProvieder_Id = #{reqDoctorID,jdbcType=VARCHAR},
      RequesterProvieder_Name = #{reqDoctorName,jdbcType=VARCHAR},
      
      SupplementaryInformationExpected = #{relevantTest,jdbcType=VARCHAR},
      Syndrom = #{syndrom,jdbcType=VARCHAR},
      Urgency_Code = #{urgencyCode,jdbcType=VARCHAR},
      Urgency_Name = #{urgencyName,jdbcType=VARCHAR},
      ReceiverOrganization_Id = #{receiverOrganizationCode,jdbcType=VARCHAR},
      ReceiverOrganization_Name = #{receiverOrganizationName,jdbcType=VARCHAR},
      RequesterOrganization_Id = #{reqHospitalID,jdbcType=VARCHAR},
      RequesterOrganization_Name = #{reqHospitalName,jdbcType=VARCHAR}
    where RequestorIdentifier = #{examReqID,jdbcType=VARCHAR}
  </update>
  
	<!--   ExamItem -->
  <select id="selectExamItem" resultMap="ExamItemMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="ExamItemColumnList" />
    from Inst_ImagingExaminationRequest_ExamItem
    where Inst_ImagingExaminationRequest$RequestorIdentifier = #{examReqID,jdbcType=CHAR}
  </select>
  <delete id="deleteExamItem" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from Inst_ImagingExaminationRequest_ExamItem
    where Inst_ImagingExaminationRequest$RequestorIdentifier = #{examReqID,jdbcType=CHAR}
  </delete>
  <insert id="insertExamItemList" parameterType="java.util.List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into Inst_ImagingExaminationRequest_ExamItem (Guid, Inst_ImagingExaminationRequest$Guid, 
      DescriptionOfExamination, ExamClass_Code, 
      ExamClass_Name, ExamSubClass_Code, ExamSubClass_Name, 
      ExaminationRequested, Inst_ImagingExaminationRequest$RequestorIdentifier, 
      ItemNumber, ScheduleDatetime, ScheduleDepartment_Code, 
      ScheduleDepartment_Name, ScheduleDoctor_Code, 
      ScheduleDoctor_Name)
    values
    	<foreach collection="list" item="item" index="index" separator="," >  
    		(newid(),#{item.itemName,jdbcType=VARCHAR}, #{item.examClassCode,jdbcType=VARCHAR}, 
      		#{item.examClass,jdbcType=VARCHAR}, #{item.examSubClassCode,jdbcType=VARCHAR}, #{item.examSubClass,jdbcType=VARCHAR}, 
      		#{item.itemCode,jdbcType=VARCHAR}, #{item.examReqID,jdbcType=VARCHAR}, 
      		#{item.itemNO,jdbcType=INTEGER}, #{item.scheduleDate,jdbcType=TIMESTAMP}, #{item.scheduleDeptCode,jdbcType=VARCHAR}, 
      		#{item.scheduleDeptName,jdbcType=VARCHAR}, #{item.scheduleDoctorCode,jdbcType=VARCHAR}, 
      		#{item.scheduleDoctorName,jdbcType=VARCHAR})
      	</foreach>
  </insert>
  <update id="updateExamItem" parameterType="com.vico.clever.cdr.service.model.ExamItem" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update Inst_ImagingExaminationRequest_ExamItem
    set 
      DescriptionOfExamination = #{itemName,jdbcType=VARCHAR},
      ExamClass_Code = #{examClassCode,jdbcType=VARCHAR},
      ExamClass_Name = #{examClass,jdbcType=VARCHAR},
      ExamSubClass_Code = #{examSubClassCode,jdbcType=VARCHAR},
      ExamSubClass_Name = #{examSubClass,jdbcType=VARCHAR},
      ExaminationRequested = #{itemCode,jdbcType=VARCHAR},
      
      ItemNumber = #{itemNO,jdbcType=INTEGER},
      ScheduleDatetime = #{scheduleDate,jdbcType=TIMESTAMP},
      ScheduleDepartment_Code = #{scheduleDeptCode,jdbcType=VARCHAR},
      ScheduleDepartment_Name = #{scheduleDeptName,jdbcType=VARCHAR},
      ScheduleDoctor_Code = #{scheduleDoctorCode,jdbcType=VARCHAR},
      ScheduleDoctor_Name = #{scheduleDoctorName,jdbcType=VARCHAR}
    where Inst_ImagingExaminationRequest$RequestorIdentifier = #{examReqID,jdbcType=VARCHAR}
  </update>
  
  
<!--   ExamStatus -->
	<select id="selectExamStatus" parameterType="java.lang.String" resultMap="ExamStatusMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="ExamStatusColumnList" />
    from Action_ImagingExamination
    where RequesterOrderIdentifier = #{examReqID,jdbcType=VARCHAR}
  </select>
  <delete id="deleteExamStatus" parameterType="java.lang.String">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from Action_ImagingExamination
    where RequesterOrderIdentifier = #{examReqID,jdbcType=VARCHAR}
  </delete>
  <insert id="insertExamStatus" parameterType="com.vico.clever.cdr.service.model.ExamStatus">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into Action_ImagingExamination (Guid, ActionDatetime, Comment, 
      EncounterIdentifier, ExaminationName, IsmTransition_CareflowStep_Code, 
      IsmTransition_CareflowStep_Name, IsmTransition_CurrentState_Code, 
      IsmTransition_CurrentState_Name, PatientIdentifier_Id, 
      Performer_Code, Performer_Name, RequesterOrderIdentifier
      )
    values (newid(), #{performDateTime,jdbcType=TIMESTAMP}, #{comment,jdbcType=VARCHAR}, 
      #{visitID,jdbcType=VARCHAR}, #{examItemName,jdbcType=VARCHAR}, #{careflowStepCode,jdbcType=VARCHAR}, 
      #{careflowStepName,jdbcType=VARCHAR}, #{curStateCode,jdbcType=VARCHAR}, 
      #{curStateName,jdbcType=VARCHAR}, #{patientID,jdbcType=VARCHAR}, 
      #{performDoctorCode,jdbcType=VARCHAR}, #{performDoctorName,jdbcType=VARCHAR}, #{examReqID,jdbcType=VARCHAR}
      )
  </insert>
  <update id="updateExamStatus" parameterType="com.vico.clever.cdr.service.model.ExamStatus">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update Action_ImagingExamination
    set ActionDatetime = #{performDateTime,jdbcType=TIMESTAMP},
      Comment = #{comment,jdbcType=VARCHAR},
      EncounterIdentifier = #{visitID,jdbcType=VARCHAR},
      ExaminationName = #{examItemName,jdbcType=VARCHAR},
      IsmTransition_CareflowStep_Code = #{careflowStepCode,jdbcType=VARCHAR},
      IsmTransition_CareflowStep_Name = #{careflowStepName,jdbcType=VARCHAR},
      IsmTransition_CurrentState_Code = #{curStateCode,jdbcType=VARCHAR},
      IsmTransition_CurrentState_Name = #{curStateName,jdbcType=VARCHAR},
      PatientIdentifier_Id = #{patientID,jdbcType=VARCHAR},
      Performer_Code = #{performDoctorCode,jdbcType=VARCHAR},
      Performer_Name = #{performDoctorName,jdbcType=VARCHAR}
    where RequesterOrderIdentifier = #{examReqID,jdbcType=VARCHAR}
  </update>
  
<!--   ExamData -->
  <select id="selectExamData" parameterType="java.lang.String" resultMap="ExamDataMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="ExamDataColumnList" />
    from Obsr_ImagingSeries
    where ReceiverOrderIdentifier_Id = #{examID,jdbcType=VARCHAR}
  </select>
  <delete id="deleteExamData" parameterType="java.lang.String">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from Obsr_ImagingSeries
    where ReceiverOrderIdentifier_Id = #{examID,jdbcType=VARCHAR}
  </delete>
  <insert id="insertExamDataList" parameterType="java.util.List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into Obsr_ImagingSeries (Guid, DicomSeriesIdentifier_Id, DicomStudyIdentifier_Id, 
      EncounterIdentifier, Images_ImageAbsolutePath, 
      Images_ImageDatetime, Images_ImageIdentifier_Id, 
      Images_ImageRelativePath, Images_KeyImage, Images_Position, 
      Images_View, OrderIdentifier, PatientIdentifier_Id, 
      ReceiverOrderIdentifier_Id, RequesterOrderIdentifier, 
      Images_Image_Uri)
    values 
    <foreach collection="list" item="item" index="index" separator="," > 
    	(newid(), #{dicomSeriesID,jdbcType=VARCHAR}, #{dicomStudyID,jdbcType=VARCHAR}, 
      	#{visitID,jdbcType=VARCHAR}, #{imageAbsolutePath,jdbcType=VARCHAR}, 
      	#{imageDateTime,jdbcType=TIMESTAMP}, #{imageID,jdbcType=VARCHAR}, 
      	#{imageRelativePath,jdbcType=VARCHAR}, #{keyImage,jdbcType=BIT}, #{imagePosition,jdbcType=VARCHAR}, 
      	#{imageView,jdbcType=VARCHAR}, #{orderID,jdbcType=VARCHAR}, #{patientID,jdbcType=VARCHAR}, 
      	#{examID,jdbcType=VARCHAR}, #{examReqID,jdbcType=VARCHAR}, 
      	#{imageUri,jdbcType=VARBINARY})
     </foreach>
  </insert>
  
  <!--   ExamReportInfo -->
  <select id="selectExamReportInfo" parameterType="java.lang.String" resultMap="ExamReportInfoMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="ExamReportColumnList" />
    from Obsr_ImagingExaminationReport
    where ReceiverOrderIdentifier_Id = #{examID,jdbcType=CHAR}
  </select>
  <delete id="deleteExamReportInfo" parameterType="java.lang.String">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from Obsr_ImagingExaminationReport
    where ReceiverOrderIdentifier_Id = #{examID,jdbcType=CHAR}
  </delete>
  <insert id="insertExamReportList" parameterType="java.util.List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into Obsr_ImagingExaminationReport (
    	Guid, Conclusion, DatetimeIssued, 
      	EncounterIdentifier, ExamDescription, Findings, 
      	Memo, OrderIdentifier, PatientIdentifier_Id, 
      	ReceiverOrderIdentifier_Id, 
      	ReportIdentifier_Id, RepresentationAbsolutePath, 
      	RepresentationRelativePath, RequesterOrderIdentifier_Id, 
     	Representation_Uri)
    values 
    	<foreach collection="list" item="item" index="index" separator="," >
    		(newid(), #{conclusion,jdbcType=VARCHAR}, #{reportDate,jdbcType=TIMESTAMP}, 
      		#{visitID,jdbcType=VARCHAR}, #{description,jdbcType=VARCHAR}, #{findings,jdbcType=VARCHAR}, 
      		#{memo,jdbcType=VARCHAR}, #{orderID,jdbcType=VARCHAR}, #{patentID,jdbcType=VARCHAR}, 
      		#{receiverorderidentifierId,jdbcType=VARCHAR}, 
      		#{examID,jdbcType=VARCHAR}, #{reportAbsolutePath,jdbcType=VARCHAR}, 
      		#{reportRelatviePath,jdbcType=VARCHAR}, #{examReqID,jdbcType=VARCHAR}, 
      		#{representationUri,jdbcType=VARBINARY})
      	</foreach>
  </insert>
  <insert id="insertExamReport" parameterType="com.vico.clever.cdr.service.model.ExamReportInfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into Obsr_ImagingExaminationReport (Guid, Conclusion, DatetimeIssued, 
      EncounterIdentifier, ExamDescription, Findings, 
      Memo, OrderIdentifier, PatientIdentifier_Id, 
      ReceiverOrderIdentifier_Id, 
      ReportIdentifier_Id, RepresentationAbsolutePath, 
      RepresentationRelativePath, RequesterOrderIdentifier_Id, 
      Representation_Uri
      )
    values (newid(), #{conclusion,jdbcType=VARCHAR}, #{reportDate,jdbcType=TIMESTAMP}, 
      #{visitID,jdbcType=VARCHAR}, #{description,jdbcType=VARCHAR}, #{findings,jdbcType=VARCHAR}, 
      #{memo,jdbcType=VARCHAR}, #{orderID,jdbcType=VARCHAR}, #{patentID,jdbcType=VARCHAR}, 
      #{examID,jdbcType=VARCHAR}, 
      #{reportID,jdbcType=VARCHAR}, #{reportAbsolutePath,jdbcType=VARCHAR}, 
      #{reportRelatviePath,jdbcType=VARCHAR}, #{examReqID,jdbcType=VARCHAR}, 
      #{representationUri,jdbcType=VARBINARY}
      )
  </insert>
  <update id="updateExamReport" parameterType="com.vico.clever.cdr.service.model.ExamReportInfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update Obsr_ImagingExaminationReport
    set Conclusion = #{conclusion,jdbcType=VARCHAR},
      DatetimeIssued = #{reportDate,jdbcType=TIMESTAMP},
      EncounterIdentifier = #{visitID,jdbcType=VARCHAR},
      ExamDescription = #{description,jdbcType=VARCHAR},
      Findings = #{findings,jdbcType=VARCHAR},
      Memo = #{memo,jdbcType=VARCHAR},
      OrderIdentifier = #{orderID,jdbcType=VARCHAR},
      PatientIdentifier_Id = #{patentID,jdbcType=VARCHAR},
      ReceiverOrderIdentifier_Id = #{examID,jdbcType=VARCHAR},
      ReportIdentifier_Id = #{reportID,jdbcType=VARCHAR},
      RepresentationAbsolutePath = #{reportAbsolutePath,jdbcType=VARCHAR},
      RepresentationRelativePath = #{reportRelatviePath,jdbcType=VARCHAR},
      RequesterOrderIdentifier_Id = #{examReqID,jdbcType=VARCHAR},
      Representation_Uri = #{representationUri,jdbcType=VARBINARY}
    where ReceiverOrderIdentifier_Id = #{examID,jdbcType=VARCHAR}
  </update>
</mapper>