<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.vico.clever.cdr.service.dao.MedcationOrderInfoDao" >
  <resultMap id="MedcationOrderMap" type="com.vico.clever.cdr.service.model.MedcationOrder" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      <id column="Guid" property="guid" jdbcType="CHAR" />
    -->
    
    <result column="AdministrationDetails_Route_Code" property="administrationRouteCode" jdbcType="VARCHAR" />
    <result column="AdministrationDetails_Route_Name" property="administrationRouteName" jdbcType="VARCHAR" />
    <result column="Comment" property="comment" jdbcType="VARCHAR" />
    <result column="EncounterIdentifier" property="visitID" jdbcType="VARCHAR" />
    <result column="IngredientsAndForm_Form_Code" property="formCode" jdbcType="VARCHAR" />
    <result column="IngredientsAndForm_Form_Name" property="formName" jdbcType="VARCHAR" />
    <result column="IngredientsAndForm_Ingredient_Compound" property="medicineCompound" jdbcType="VARCHAR" />
    <result column="MedicationInstructionId_Id" property="medicationOrderID" jdbcType="VARCHAR" />
    <result column="Medicine_Code" property="medicationCode" jdbcType="VARCHAR" />
    <result column="Medicine_Name" property="medicationName" jdbcType="VARCHAR" />
    <result column="OrderIdentifier" property="orderID" jdbcType="VARCHAR" />
    <result column="OwnMedicine" property="ownMedicine" jdbcType="BIT" />
    <result column="PatientIdentifier_Id" property="patientID" jdbcType="VARCHAR" />
    <result column="St_Code" property="stCode" jdbcType="VARCHAR" />
    <result column="St_Name" property="stName" jdbcType="VARCHAR" />
<!--     <result column="StructuredDose_Amount_Lower" property="structureddoseAmountLower" jdbcType="INTEGER" /> -->
<!--     <result column="StructuredDose_Amount_Lower_Units" property="structureddoseAmountLowerUnits" jdbcType="VARCHAR" /> -->
<!--     <result column="StructuredDose_Amount_Upper" property="structureddoseAmountUpper" jdbcType="INTEGER" /> -->
<!--     <result column="StructuredDose_Amount_Upper_Units" property="structureddoseAmountUpperUnits" jdbcType="VARCHAR" /> -->
    <result column="StructuredDose_DoseUnit_Code" property="doseUnitCode" jdbcType="VARCHAR" />
    <result column="StructuredDose_DoseUnit_Name" property="doseUnit" jdbcType="VARCHAR" />
    <result column="StructuredTiming_DetailedTiming_DailyCount" property="dailyCount" jdbcType="INTEGER" />
    <result column="StructuredTiming_DetailedTiming_Frequency" property="frequency" jdbcType="INTEGER" />
    <result column="StructuredTiming_DetailedTiming_Frequency_Units" property="frequencyUnit" jdbcType="VARCHAR" />
    <result column="StructuredTiming_DetailedTiming_Interval_Period" property="frequencyIntervalUnit" jdbcType="VARCHAR" />
    <result column="StructuredTiming_DetailedTiming_Interval" property="frequencyInterval" jdbcType="VARCHAR" />
    <result column="StructuredTiming_DurationOfTreatment_Period" property="durationUnit" jdbcType="VARCHAR" />
    <result column="StructuredTiming_DurationOfTreatment" property="durationOfTreat" jdbcType="VARCHAR" />
    <result column="StructuredTiming_NumberOfAdministrations" property="numberAllOfMedicine" jdbcType="INTEGER" />
    <result column="StructuredTiming_StartDate" property="startDate" jdbcType="TIMESTAMP" />
    <result column="StructuredTiming_StopDate" property="stopDate" jdbcType="TIMESTAMP" />
    <result column="StructuredDose_Amount" property="doseAmount" jdbcType="INTEGER" />
<!--     <result column="StructuredDose_Amount_Units" property="structureddoseAmountUnits" jdbcType="VARCHAR" /> -->
  </resultMap>
   <resultMap id="MedcationOrderStatusMap" type="com.vico.clever.cdr.service.model.MedcationOrderStatus" >
      <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      <id column="Guid" property="guid" jdbcType="CHAR" />
    -->
    <result column="ActionDatetime" property="performDateTime" jdbcType="TIMESTAMP" />
    <result column="EncounterIdentifier" property="visitID" jdbcType="VARCHAR" />
    <result column="IsmTransition_CareflowStep_Code" property="careflowStepCode" jdbcType="VARCHAR" />
    <result column="IsmTransition_CareflowStep_Name" property="careflowStepName" jdbcType="VARCHAR" />
    <result column="IsmTransition_CurrentState_Code" property="curStateCode" jdbcType="VARCHAR" />
    <result column="IsmTransition_CurrentState_Name" property="curStateName" jdbcType="VARCHAR" />
    <result column="MedicationInstructionId" property="medcationOrderID" jdbcType="VARCHAR" />
    <result column="Medicine_Code" property="medicationCode" jdbcType="VARCHAR" />
    <result column="Medicine_Name" property="medication" jdbcType="VARCHAR" />
    <result column="PatientIdentifier_Id" property="patientID" jdbcType="VARCHAR" />
    <result column="Performer_Code" property="performDoctorCode" jdbcType="VARCHAR" />
    <result column="Performer_Name" property="performDoctorName" jdbcType="VARCHAR" />
  </resultMap>
  
  <sql id="MedcationOrderColumnList" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    Guid, AdministrationDetails_Route_Code, AdministrationDetails_Route_Name, Comment, 
    EncounterIdentifier, IngredientsAndForm_Form_Code, IngredientsAndForm_Form_Name, 
    IngredientsAndForm_Ingredient_Compound, MedicationInstructionId_Id, Medicine_Code, 
    Medicine_Name, OrderIdentifier, OwnMedicine, PatientIdentifier_Id, St_Code, St_Name,
    StructuredDose_DoseUnit_Code, StructuredDose_DoseUnit_Name, 
    StructuredTiming_DetailedTiming_DailyCount, StructuredTiming_DetailedTiming_Frequency, 
    StructuredTiming_DetailedTiming_Frequency_Units, StructuredTiming_DetailedTiming_Interval_Period, 
    StructuredTiming_DetailedTiming_Interval, StructuredTiming_DurationOfTreatment_Period, 
    StructuredTiming_DurationOfTreatment, StructuredTiming_NumberOfAdministrations, StructuredTiming_StartDate, 
    StructuredTiming_StopDate, StructuredDose_Amount, StructuredDose_Amount_Units
  </sql>
   <sql id="MedcationOrderStatusColumnList" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    Guid, ActionDatetime, EncounterIdentifier, IsmTransition_CareflowStep_Code, IsmTransition_CareflowStep_Name, 
    IsmTransition_CurrentState_Code, IsmTransition_CurrentState_Name, MedicationInstructionId, 
    Medicine_Code, Medicine_Name, PatientIdentifier_Id, Performer_Code, Performer_Name
  </sql>
  <select id="selectMedcationOrder" resultMap="MedcationOrderMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="MedcationOrderColumnList" />
    from Inst_MedicationOrder
    where MedicationInstructionId_Id = #{medicationOrderID,jdbcType=VARCHAR}
  </select>
  <delete id="deleteMedcationOrder" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from Inst_MedicationOrder
    where MedicationInstructionId_Id = #{medicationOrderID,jdbcType=VARCHAR}
  </delete>
  <insert id="insertMedcationOrder" parameterType="com.vico.clever.cdr.service.model.MedcationOrder" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into Inst_MedicationOrder (Guid, AdministrationDetails_Route_Code, 
      AdministrationDetails_Route_Name, Comment, 
      EncounterIdentifier, IngredientsAndForm_Form_Code, 
      IngredientsAndForm_Form_Name, IngredientsAndForm_Ingredient_Compound, 
      MedicationInstructionId_Id, Medicine_Code, 
      Medicine_Name, OrderIdentifier, OwnMedicine, 
      PatientIdentifier_Id, St_Code, St_Name, 
      StructuredDose_DoseUnit_Code, StructuredDose_DoseUnit_Name, 
      StructuredTiming_DetailedTiming_DailyCount, StructuredTiming_DetailedTiming_Frequency, 
      StructuredTiming_DetailedTiming_Frequency_Units, StructuredTiming_DetailedTiming_Interval_Period, 
      StructuredTiming_DetailedTiming_Interval, StructuredTiming_DurationOfTreatment_Period, 
      StructuredTiming_DurationOfTreatment, StructuredTiming_NumberOfAdministrations, 
      StructuredTiming_StartDate, StructuredTiming_StopDate, 
      StructuredDose_Amount 
      )
    values (newid(), #{administrationRouteCode,jdbcType=VARCHAR}, 
      #{administrationRouteName,jdbcType=VARCHAR}, #{comment,jdbcType=VARCHAR}, 
      #{visitID,jdbcType=VARCHAR}, #{formCode,jdbcType=VARCHAR}, 
      #{formName,jdbcType=VARCHAR}, #{medicineCompound,jdbcType=VARCHAR}, 
      #{medicationOrderID,jdbcType=VARCHAR}, #{medicationCode,jdbcType=VARCHAR}, 
      #{medicationName,jdbcType=VARCHAR}, #{orderID,jdbcType=VARCHAR}, #{ownMedicine,jdbcType=BIT}, 
      #{patientID,jdbcType=VARCHAR}, #{stCode,jdbcType=VARCHAR}, #{stName,jdbcType=VARCHAR}, 
      #{doseUnitCode,jdbcType=VARCHAR}, #{doseUnit,jdbcType=VARCHAR}, 
      #{dailyCount,jdbcType=INTEGER}, #{frequency,jdbcType=INTEGER}, 
      #{frequencyUnit,jdbcType=VARCHAR}, #{frequencyIntervalUnit,jdbcType=VARCHAR}, 
      #{frequencyInterval,jdbcType=VARCHAR}, #{durationUnit,jdbcType=VARCHAR}, 
      #{durationOfTreat,jdbcType=VARCHAR}, #{numberAllOfMedicine,jdbcType=INTEGER}, 
      #{startDate,jdbcType=TIMESTAMP}, #{stopDate,jdbcType=TIMESTAMP}, 
      #{doseAmount,jdbcType=INTEGER}
      )
  </insert>
  <update id="updateMedcationOrder" parameterType="com.vico.clever.cdr.service.model.MedcationOrder" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update Inst_MedicationOrder
    set AdministrationDetails_Route_Code = #{administrationRouteCode,jdbcType=VARCHAR},
      AdministrationDetails_Route_Name = #{administrationRouteName,jdbcType=VARCHAR},
      Comment = #{comment,jdbcType=VARCHAR},
      EncounterIdentifier = #{visitID,jdbcType=VARCHAR},
      IngredientsAndForm_Form_Code = #{formCode,jdbcType=VARCHAR},
      IngredientsAndForm_Form_Name = #{formName,jdbcType=VARCHAR},
      IngredientsAndForm_Ingredient_Compound = #{medicineCompound,jdbcType=VARCHAR},

      Medicine_Code = #{medicationCode,jdbcType=VARCHAR},
      Medicine_Name = #{medicationName,jdbcType=VARCHAR},
      OrderIdentifier = #{orderID,jdbcType=VARCHAR},
      OwnMedicine = #{ownMedicine,jdbcType=BIT},
      PatientIdentifier_Id = #{patientID,jdbcType=VARCHAR},
      St_Code = #{stCode,jdbcType=VARCHAR},
      St_Name = #{stName,jdbcType=VARCHAR},
      StructuredDose_DoseUnit_Code = #{doseUnitCode,jdbcType=VARCHAR},
      StructuredDose_DoseUnit_Name = #{doseUnit,jdbcType=VARCHAR},
      StructuredTiming_DetailedTiming_DailyCount = #{dailyCount,jdbcType=INTEGER},
      StructuredTiming_DetailedTiming_Frequency = #{frequency,jdbcType=INTEGER},
      StructuredTiming_DetailedTiming_Frequency_Units = #{frequencyUnit,jdbcType=VARCHAR},
      StructuredTiming_DetailedTiming_Interval_Period = #{frequencyIntervalUnit,jdbcType=VARCHAR},
      StructuredTiming_DetailedTiming_Interval = #{frequencyInterval,jdbcType=VARCHAR},
      StructuredTiming_DurationOfTreatment_Period = #{durationUnit,jdbcType=VARCHAR},
      StructuredTiming_DurationOfTreatment = #{durationOfTreat,jdbcType=VARCHAR},
      StructuredTiming_NumberOfAdministrations = #{numberAllOfMedicine,jdbcType=INTEGER},
      StructuredTiming_StartDate = #{startDate,jdbcType=TIMESTAMP},
      StructuredTiming_StopDate = #{stopDate,jdbcType=TIMESTAMP},
      StructuredDose_Amount = #{doseAmount,jdbcType=INTEGER}
    where MedicationInstructionId_Id = #{medicationOrderID,jdbcType=VARCHAR}
  </update>
  
<!--   MedcationOrderStatus -->
  
  <select id="selectMedcationOrderStatus" resultMap="MedcationOrderStatusMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="MedcationOrderStatusColumnList" />
    from Action_Medication
    where MedicationInstructionId = #{medcationOrderID,jdbcType=VARCHAR}
  </select>
  <delete id="deleteMedcationOrderStatus" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from Action_Medication
    where MedicationInstructionId = #{medcationOrderID,jdbcType=VARCHAR}
  </delete>
  <insert id="insertMedcationOrderStatus" parameterType="com.vico.clever.cdr.service.model.MedcationOrderStatus" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into Action_Medication (Guid, ActionDatetime, EncounterIdentifier, 
      IsmTransition_CareflowStep_Code, IsmTransition_CareflowStep_Name, 
      IsmTransition_CurrentState_Code, IsmTransition_CurrentState_Name, 
      MedicationInstructionId, Medicine_Code, 
      Medicine_Name, PatientIdentifier_Id, Performer_Code, 
      Performer_Name)
    values (newid(), #{performDateTime,jdbcType=TIMESTAMP}, #{visitID,jdbcType=VARCHAR}, 
      #{careflowStepCode,jdbcType=VARCHAR}, #{careflowStepName,jdbcType=VARCHAR}, 
      #{curStateCode,jdbcType=VARCHAR}, #{curStateName,jdbcType=VARCHAR}, 
      #{medcationOrderID,jdbcType=VARCHAR}, #{medicationCode,jdbcType=VARCHAR}, 
      #{medication,jdbcType=VARCHAR}, #{patientID,jdbcType=VARCHAR}, #{performDoctorCode,jdbcType=VARCHAR}, 
      #{performDoctorName,jdbcType=VARCHAR})
  </insert>
  <update id="updateMedcationOrderStatus" parameterType="com.vico.clever.cdr.service.model.MedcationOrderStatus" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update Action_Medication
    set ActionDatetime = #{performDateTime,jdbcType=TIMESTAMP},
      EncounterIdentifier = #{visitID,jdbcType=VARCHAR},
      IsmTransition_CareflowStep_Code = #{careflowStepCode,jdbcType=VARCHAR},
      IsmTransition_CareflowStep_Name = #{careflowStepName,jdbcType=VARCHAR},
      IsmTransition_CurrentState_Code = #{curStateCode,jdbcType=VARCHAR},
      IsmTransition_CurrentState_Name = #{curStateName,jdbcType=VARCHAR},

      Medicine_Code = #{medicationCode,jdbcType=VARCHAR},
      Medicine_Name = #{medication,jdbcType=VARCHAR},
      PatientIdentifier_Id = #{patientID,jdbcType=VARCHAR},
      Performer_Code = #{performDoctorCode,jdbcType=VARCHAR},
      Performer_Name = #{performDoctorName,jdbcType=VARCHAR}
    where MedicationInstructionId = #{medcationOrderID,jdbcType=VARCHAR}
  </update>
  
</mapper>