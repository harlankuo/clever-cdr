<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.vico.clever.cdr.service.dao.DrugsDispenseDao" >
  <resultMap id="DrugDispensingReqMap" type="com.vico.clever.cdr.service.model.DrugDispensingReq" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      <id column="Guid" property="guid" jdbcType="CHAR" />
    -->
    
    <result column="ApprovalNumber" property="apprpvalNumber" jdbcType="VARCHAR" />
    <result column="BatchId" property="batchID" jdbcType="VARCHAR" />
    <result column="DestinationPharmacy_Code" property="destinationPharmacyCode" jdbcType="VARCHAR" />
    <result column="DestinationPharmacy_Name" property="destinationPharmacyName" jdbcType="VARCHAR" />
    <result column="DrugsDispensingRequestIdentifier" property="drugDispensingReqID" jdbcType="VARCHAR" />
    <result column="Emergency" property="emergency" jdbcType="VARCHAR" />
    <result column="EncounterIdentifier" property="visitID" jdbcType="VARCHAR" />
    <result column="Manufacturer" property="manufacturer" jdbcType="VARCHAR" />
    <result column="MedicationInstructionId" property="medicationID" jdbcType="VARCHAR" />
    <result column="PatientIdentifier_Id" property="patientID" jdbcType="VARCHAR" />
    <result column="ReceiveDispensingAmountUnit" property="receiveDispensingAmountUnit" jdbcType="VARCHAR" />
    <result column="ReceiveDispensingAmount" property="receiveDispensingAmount" jdbcType="VARCHAR" />
    <result column="RequestDepartment_Code" property="reqDeptCode" jdbcType="VARCHAR" />
    <result column="RequestDepartment_Name" property="reqDeptName" jdbcType="VARCHAR" />
    <result column="RequestDispensingAmountUnit" property="reqDispensingAmountUnit" jdbcType="VARCHAR" />
    <result column="RequestDispensingAmount" property="reqDispensingAmount" jdbcType="VARCHAR" />
    <result column="TradeName" property="medicineTradeName" jdbcType="VARCHAR" />
    <result column="RequestWard_Code" property="reqWardCode" jdbcType="VARCHAR" />
    <result column="RequestWard_Name" property="reqWardName" jdbcType="VARCHAR" />
  </resultMap>
  <resultMap id="DrugDispenseReqStatusMap" type="com.vico.clever.cdr.service.model.DrugDispenseReqStatus" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
<!--     <id column="Guid" property="guid" jdbcType="CHAR" /> -->
    <result column="DrugsDispensingRequestIdentifier" property="drugDispensingReqID" jdbcType="VARCHAR" />
    <result column="EncounterIdentifier" property="visitID" jdbcType="VARCHAR" />
    <result column="IsmTransition_CareflowStep_Code" property="careflowStepCode" jdbcType="VARCHAR" />
    <result column="IsmTransition_CareflowStep_Name" property="careflowStepName" jdbcType="VARCHAR" />
    <result column="IsmTransition_CurrentState_Code" property="curStateCode" jdbcType="VARCHAR" />
    <result column="IsmTransition_CurrentState_Name" property="curStateName" jdbcType="VARCHAR" />
    <result column="Medicationname_Code" property="medicationCode" jdbcType="VARCHAR" />
    <result column="Medicationname_Name" property="medicationName" jdbcType="VARCHAR" />
    <result column="Memo" property="memo" jdbcType="VARCHAR" />
    <result column="PatientIdentifier_Id" property="patientID" jdbcType="VARCHAR" />
    <result column="PerformDateTime" property="performDateTime" jdbcType="TIMESTAMP" />
    <result column="PerformDepartment_Code" property="performDeptCode" jdbcType="VARCHAR" />
    <result column="PerformDepartment_Name" property="performDeptName" jdbcType="VARCHAR" />
    <result column="Performer_Code" property="performDoctorCode" jdbcType="VARCHAR" />
    <result column="Performer_Name" property="performDoctorName" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="DrugDispensingReqColumnList" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    Guid, ApprovalNumber, BatchId, DestinationPharmacy_Code, DestinationPharmacy_Name, 
    DrugsDispensingRequestIdentifier, Emergency, EncounterIdentifier, Manufacturer, MedicationInstructionId, 
    PatientIdentifier_Id, ReceiveDispensingAmountUnit, ReceiveDispensingAmount, RequestDepartment_Code, 
    RequestDepartment_Name, RequestDispensingAmountUnit, RequestDispensingAmount, TradeName, 
    RequestWard_Code, RequestWard_Name
  </sql>
   <sql id="DrugDispenseReqStatusColumnList" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    Guid, DrugsDispensingRequestIdentifier, EncounterIdentifier, IsmTransition_CareflowStep_Code, 
    IsmTransition_CareflowStep_Name, IsmTransition_CurrentState_Code, IsmTransition_CurrentState_Name, 
    Medicationname_Code, Medicationname_Name, Memo, PatientIdentifier_Id, PerformDateTime, 
    PerformDepartment_Code, PerformDepartment_Name, Performer_Code, Performer_Name
  </sql>
  <select id="selectDrugDispenseReq" resultMap="DrugDispensingReqMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="DrugDispensingReqColumnList" />
    from Inst_DrugsDispensing
    where DrugsDispensingRequestIdentifier = #{drugDispensingReqID,jdbcType=VARCHAR}
  </select>
  <delete id="deleteDrugDispenseReq" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from Inst_DrugsDispensing
    where DrugsDispensingRequestIdentifier = #{drugDispensingReqID,jdbcType=VARCHAR}
  </delete>
  <insert id="insertDrugDispenseReq" parameterType="com.vico.clever.cdr.service.model.DrugDispensingReq" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into Inst_DrugsDispensing (Guid, ApprovalNumber, BatchId, 
      DestinationPharmacy_Code, DestinationPharmacy_Name, 
      DrugsDispensingRequestIdentifier, Emergency, 
      EncounterIdentifier, Manufacturer, MedicationInstructionId, 
      PatientIdentifier_Id, ReceiveDispensingAmountUnit, 
      ReceiveDispensingAmount, RequestDepartment_Code, 
      RequestDepartment_Name, RequestDispensingAmountUnit, 
      RequestDispensingAmount, TradeName, RequestWard_Code, 
      RequestWard_Name)
    values (newid(), #{apprpvalNumber,jdbcType=VARCHAR}, #{batchID,jdbcType=VARCHAR}, 
      #{destinationPharmacyCode,jdbcType=VARCHAR}, #{destinationPharmacyName,jdbcType=VARCHAR}, 
      #{drugDispensingReqID,jdbcType=VARCHAR}, #{emergency,jdbcType=VARCHAR}, 
      #{visitID,jdbcType=VARCHAR}, #{manufacturer,jdbcType=VARCHAR}, #{medicationID,jdbcType=VARCHAR}, 
      #{patientID,jdbcType=VARCHAR}, #{receiveDispensingAmountUnit,jdbcType=VARCHAR}, 
      #{receiveDispensingAmount,jdbcType=VARCHAR}, #{reqDeptCode,jdbcType=VARCHAR}, 
      #{reqDeptName,jdbcType=VARCHAR}, #{reqDispensingAmountUnit,jdbcType=VARCHAR}, 
      #{reqDispensingAmount,jdbcType=VARCHAR}, #{medicineTradeName,jdbcType=VARCHAR}, #{reqWardCode,jdbcType=VARCHAR}, 
      #{reqWardName,jdbcType=VARCHAR})
  </insert>
  <update id="updateDrugDispenseReq" parameterType="com.vico.clever.cdr.service.model.DrugDispensingReq" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update Inst_DrugsDispensing
    set ApprovalNumber = #{apprpvalNumber,jdbcType=VARCHAR},
      BatchId = #{batchID,jdbcType=VARCHAR},
      DestinationPharmacy_Code = #{destinationPharmacyCode,jdbcType=VARCHAR},
      DestinationPharmacy_Name = #{destinationPharmacyName,jdbcType=VARCHAR},

      Emergency = #{emergency,jdbcType=VARCHAR},
      EncounterIdentifier = #{visitID,jdbcType=VARCHAR},
      Manufacturer = #{manufacturer,jdbcType=VARCHAR},
      MedicationInstructionId = #{medicationID,jdbcType=VARCHAR},
      PatientIdentifier_Id = #{patientID,jdbcType=VARCHAR},
      ReceiveDispensingAmountUnit = #{receiveDispensingAmountUnit,jdbcType=VARCHAR},
      ReceiveDispensingAmount = #{receiveDispensingAmount,jdbcType=VARCHAR},
      RequestDepartment_Code = #{reqDeptCode,jdbcType=VARCHAR},
      RequestDepartment_Name = #{reqDeptName,jdbcType=VARCHAR},
      RequestDispensingAmountUnit = #{reqDispensingAmountUnit,jdbcType=VARCHAR},
      RequestDispensingAmount = #{reqDispensingAmount,jdbcType=VARCHAR},
      TradeName = #{medicineTradeName,jdbcType=VARCHAR},
      RequestWard_Code = #{reqWardCode,jdbcType=VARCHAR},
      RequestWard_Name = #{reqWardName,jdbcType=VARCHAR}
    where DrugsDispensingRequestIdentifier = #{drugDispensingReqID,jdbcType=VARCHAR}
  </update>
  
<!--   DrugDispenseReqStatus -->
  <select id="selectDrugDispenseReqStatus" resultMap="DrugDispenseReqStatusMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="DrugDispenseReqStatusColumnList" />
    from Action_DispensingDrugs
    where DrugsDispensingRequestIdentifier = #{drugDispensingReqID,jdbcType=VARCHAR}
  </select>
  <delete id="deleteDrugDispenseReqStatus" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from Action_DispensingDrugs
    where DrugsDispensingRequestIdentifier = #{drugDispensingReqID,jdbcType=VARCHAR}
  </delete>
  <insert id="insertDrugDispenseReqStatus" parameterType="com.vico.clever.cdr.service.model.DrugDispenseReqStatus" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into Action_DispensingDrugs (Guid, DrugsDispensingRequestIdentifier, 
      EncounterIdentifier, IsmTransition_CareflowStep_Code, 
      IsmTransition_CareflowStep_Name, IsmTransition_CurrentState_Code, 
      IsmTransition_CurrentState_Name, Medicationname_Code, 
      Medicationname_Name, Memo, PatientIdentifier_Id, 
      PerformDateTime, PerformDepartment_Code, 
      PerformDepartment_Name, Performer_Code, Performer_Name
      )
    values (newid(), #{drugDispensingReqID,jdbcType=VARCHAR}, 
      #{visitID,jdbcType=VARCHAR}, #{careflowStepCode,jdbcType=VARCHAR}, 
      #{careflowStepName,jdbcType=VARCHAR}, #{curStateCode,jdbcType=VARCHAR}, 
      #{curStateName,jdbcType=VARCHAR}, #{medicationCode,jdbcType=VARCHAR}, 
      #{medicationName,jdbcType=VARCHAR}, #{memo,jdbcType=VARCHAR}, #{patientID,jdbcType=VARCHAR}, 
      #{performDateTime,jdbcType=TIMESTAMP}, #{performDeptCode,jdbcType=VARCHAR}, 
      #{performDeptName,jdbcType=VARCHAR}, #{performDoctorCode,jdbcType=VARCHAR}, #{performDoctorName,jdbcType=VARCHAR}
      )
  </insert>
  <update id="updateDrugDispenseReqStatus" parameterType="com.vico.clever.cdr.service.model.DrugDispenseReqStatus" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update Action_DispensingDrugs
    set 
      EncounterIdentifier = #{visitID,jdbcType=VARCHAR},
      IsmTransition_CareflowStep_Code = #{careflowStepCode,jdbcType=VARCHAR},
      IsmTransition_CareflowStep_Name = #{careflowStepName,jdbcType=VARCHAR},
      IsmTransition_CurrentState_Code = #{curStateCode,jdbcType=VARCHAR},
      IsmTransition_CurrentState_Name = #{curStateName,jdbcType=VARCHAR},
      Medicationname_Code = #{medicationCode,jdbcType=VARCHAR},
      Medicationname_Name = #{medicationName,jdbcType=VARCHAR},
      Memo = #{memo,jdbcType=VARCHAR},
      PatientIdentifier_Id = #{patientID,jdbcType=VARCHAR},
      PerformDateTime = #{performDateTime,jdbcType=TIMESTAMP},
      PerformDepartment_Code = #{performDeptCode,jdbcType=VARCHAR},
      PerformDepartment_Name = #{performDeptName,jdbcType=VARCHAR},
      Performer_Code = #{performDoctorCode,jdbcType=VARCHAR},
      Performer_Name = #{performDoctorName,jdbcType=VARCHAR}
    where DrugsDispensingRequestIdentifier = #{drugsdispensingrequestidentifier,jdbcType=VARCHAR},
  </update>
  
</mapper>